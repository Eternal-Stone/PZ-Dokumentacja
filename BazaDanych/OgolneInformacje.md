# Ogólnie informacje o zastosowanej bazie danych

Poniższy dokument ma na celu przybliżenie czytelnikowi technologii bazodanowych użytych w projekcie wraz z uzasadnieniem dlaczego dany wybór wydaje się być stosowny, aby lektura ta nie tylko miała charakter techniczny, ale i również uświadamiający.

Wybierając właściwą bazę danych dla naszego projektu przez co rozumiem taką, która w największym stopniu wypełnia wszelkie potrzeby tego co pragniemy stworzyć, kierowałem się licznymi czynnikami, tak aby ostatecznie wybór ten był jak najlepszy. Mimo początkowego zainteresowania mongodb postanowiłem odejść od tego pomysłu na rzecz **postgresql**, z powodami podobnej decyzji możecie zapoznać się poniżej.

## Dlaczego postgresql jest odpowiednią bazą danych do naszych potrzeb?

- Jest to baza danych w której każdy członek naszego teamu posiada pewne rozeznanie. O ile wybór innej bazy relacyjnej nie stanowiłby znaczącego problemu, tak bazy dokumentowe jak mongodb wymagają wykształcenia innego sposobu myślenia o przechowywanych danych, co wymaga czasu, podobnie jak nauczenie się wszelkich poleceń które w stopniu znaczącym odbiegają od tych znanych z postgresql i jemu podobnych. Uważam że byłoby to zbyteczne utrudnienie pracy jak i również zbyteczne odciągnięcie uwagi od kwestii kluczowych związanymi z rozwojem samej gry. Niech czas poświęcony na przedmiotach bazy danych I i II będzie tu korzyścią, a nie przeszkodą.

- Postgresql jest bazą open-sourcową oraz darmową do komercyjnego użytku. Nie jesteśmy w stanie ocenić w obecnej chwili tego jak nasz projekt się rozwinie, jednakże w zamyśle ma być to podłoże do stworzenia produktu komercyjnego, jak i również pierwszy produkt firmy, która pełnoprawnie zajmuje się tworzeniem gier komputerowych. Ważnym jest więc aby postawić na bazę danych, która zamysł ten będzie wspierać, nie zaś która będzie w tym zamyśle ograniczać.

- Postgresql jest bazą wydajną. Wierzę, iż każdy członek teamu zdołał się już zapoznać ze złożonością cygańskich mechanik, które będą kierować naszą grą. Potrzebujemy więc bazy danych, która pozwoli na wydajne ich obsługiwanie. Postgresql wspiera wiele technik optymalizacyjnych z których część jest wam zapewne już znana jak zaawansowane indexowanie (przyda się w tabelach gdzie będzie zapisane naprawdę wiele danych) czy wsparcie dla wielowątkowości (równoległe przetwarzanie wielu zapytań jest kluczowe dla dobrze działającej gry).

- Łatwość integracji postgresql z unreal engine 5. Jako wspomniałem wcześniej ważnym jest abyśmy większość uwagi mogli poświęcić na samą grę, dlatego też pożytecznym jest aby wszelkie systemy z nią powiązane były czynione w sposób ułatwiony. Istnieje wiele gotowych rozwiązań pozwalających na współpracę wybranej przeze mnie bazy danych z silnikiem naszej gry z których warto abyśmy skorzystali. Do najpopularniejszych rozwiązań należą VaRest Plugin oraz Unreal PostgreSQL Plugin. VaRest Plugin działa na zasadzie klient-serwer (Bocian :o) gdzie dochodzi do wysyłania i odbierania prostych zapytań HTTP z poziomu blueprintów lub C++. Unreal engine w tym rozwiązaniu wysyła zapytania API do serwera powiązanego z bazą danych, serwer odpowiada zaś danymi w formacie JSON. Rozwiązania z kategorii drugiej są zaś z reguły płatne, dlatego też to rozwiązanie odrzucam, jednakże dla porządku uznałem iż warto jest również o tym wspomnieć. Ostatecznie szczegóły implementacyjne i tak będą spoczywać na mnie.

- Każdy z członków zapewne zdał sobie już sprawę, iż tworzony system jest rozległy i w mojej ocenie też często niejasny. Początkowo uznawałem, iż należy użyć bazy danych, która by tej strukturze wtórowała, po głębszych namyśle stwierdzam jednak, iż potrzebujemy rozwiązania bardziej ustrukturyzowanego. Widzę w podobnym zamyśle wiele zalet. Przykładowo gdy właściwy schemat bazy danych zostanie już przygotowany to jego widok w formie tabel połączonych zależnościami może pomóc reszcie drużyny właściwie odnaleźć się w tych wszystkich mechanikach, tak aby praca była płynna i zgodna z romskimi oczekiwaniami. Oczywiście nie będzie to rozwiązanie idealne, bo te wszystkie połączenia i tak siłą rzeczy będą tworzyć coś na wzór węzła gordyjskiego, to potrafię sobie wyobrazić, iż przedstawienie tego w formie bazy dokumentowej byłoby już czystym chaosem. Niechaj baza danych wspiera uporządkowanie w takim stopniu jak jest to osiągalne.

- Postgresql w porównaniu do prostszych alternatyw pokroju sqlite pozwala na dogodną pracę w teamie; możliwość manipulacji danymi w czasie rzeczywistym.

- Postgresql zapewnia wsparcie dla transakcji ACID, co jest bardzo ważne w kontekście gier. Chociażby pierwsza cecha (atomowość) zapewnia, że jeśli gracz zakupi dany przedmiot to albo go otrzyma, albo nic się nie zmieni (nie straci od chociażby waluty). Gdybyśmy kiedyś planowali wprowadzić multiplayer byłoby to tym bardziej istotne.

Baza danych została utworzona z wykorzystaniem Amazon RDS.
